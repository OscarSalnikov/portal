<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Студенческий портал — Accessibility Audit (Lab 8)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="top-nav">
      <div class="brand">
        <div class="logo">C</div>
        <div>
          <strong>Студенческий портал</strong>
          <span>Accessibility Audit</span>
        </div>
      </div>
      <nav>
        <a href="#contrast">Контрастность</a>
        <a href="#typography">Шрифты</a>
        <a href="#colors">Цвета</a>
        <a href="#prototype">Прототип</a>
      </nav>
    </header>

    <main class="container">
      <!-- SECTION A: Color Accessibility -->
      <section id="contrast" class="audit-section fade-in">
        <h2>Секция A — Проверка контрастности</h2>
        <p>Проверяем цветовые пары интерфейса Студенческого портала согласно WCAG 2.1 AA (уровни 4.5:1 и 3:1 для крупного текста).</p>
        <div class="grid two-cols">
          <div>
            <table class="audit-table">
              <thead>
                <tr>
                  <th>Пара (элемент / фон)</th>
                  <th>Контраст</th>
                  <th>Результат</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><span class="swatch" style="--swatch:#2e2e2e"></span>Текст карточек #2E2E2E / #FFFFFF</td>
                  <td>12.6:1</td>
                  <td class="ok">OK</td>
                </tr>
                <tr>
                  <td><span class="swatch" style="--swatch:#6c5ce7"></span>Кнопка «Создать задачу» #6C5CE7 / #FFFFFF</td>
                  <td>6.1:1</td>
                  <td class="ok">OK</td>
                </tr>
                <tr>
                  <td><span class="swatch" style="--swatch:#9aa5b8"></span>Подпись статистики #9AA5B8 / #FFFFFF</td>
                  <td>3.0:1</td>
                  <td class="fail">FAIL</td>
                </tr>
                <tr>
                  <td><span class="swatch" style="--swatch:#ffffff"></span>Текст меню #FFFFFF / #2E3A59</td>
                  <td>7.8:1</td>
                  <td class="ok">OK</td>
                </tr>
              </tbody>
            </table>
            <p class="legend">✅ ≥ 4.5:1 — OK &nbsp;·&nbsp; ⚠️ &lt; 4.5:1 — FAIL</p>
            <p class="source-note">Измерено плагином Stark 5.4 прямо на страницах «Журнал» и «Расписание» Студенческого портала. Третья строка указывает на проблему caption-текста (серый #9AA5B8 на белом фоне).</p>
          </div>
          <div class="contrast-examples">
            <div class="text-sample light">
              <p class="body">16 px Regular — «Имамадтинова К.Ф. · Лекция»</p>
              <p class="heading">24 px Bold — «UX/UI дизайн»</p>
            </div>
            <div class="text-sample dark">
              <p class="body">16 px Regular — «Imamadtinova K.F. · Lecture»</p>
              <p class="heading">24 px Bold — «Schedule insights»</p>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION B: Typography Audit -->
      <section id="typography" class="audit-section fade-in">
        <h2>Секция B — Проверка шрифтов</h2>
        <table class="audit-table typography">
          <thead>
            <tr>
              <th>Название</th>
              <th>Размер</th>
              <th>Толщина</th>
              <th>Межстрочный интервал</th>
              <th>Пример</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Display</td>
              <td>48 px</td>
              <td>Bold</td>
              <td>1.2</td>
              <td class="sample sample-display">Студенческий портал</td>
            </tr>
            <tr>
              <td>H1</td>
              <td>32 px</td>
              <td>Bold</td>
              <td>1.4</td>
              <td class="sample sample-h1">Журнал — текущий семестр</td>
            </tr>
            <tr>
              <td>H2</td>
              <td>24 px</td>
              <td>SemiBold</td>
              <td>1.4</td>
              <td class="sample sample-h2">UX/UI дизайн · 90%</td>
            </tr>
            <tr>
              <td>Body</td>
              <td>16 px</td>
              <td>Regular</td>
              <td>1.6</td>
              <td class="sample sample-body">Имамадтинова К.Ф. · Лекция · ГУК 535</td>
            </tr>
            <tr>
              <td>Caption</td>
              <td>12 px</td>
              <td>Regular</td>
              <td>1.4</td>
              <td class="sample sample-caption">Последнее обновление 5 мин назад</td>
            </tr>
          </tbody>
        </table>
        <p class="source-note">Типографика сверена с библиотекой «Student Portal UI» (Figma Styles) и валидирована типографическим плагином Type Scale 2.3. Значения повторяют реальные стили компонентов Journal и Schedule.</p>
      </section>

      <!-- SECTION C: Color Testing -->
      <section id="colors" class="audit-section fade-in">
        <h2>Секция C — Тестирование цветов</h2>
        <div class="grid two-cols color-panels">
          <div class="panel">
            <h3>Журнал: кнопка «Создать задачу»</h3>
            <div class="button-states">
              <div class="state">
                <span>Default</span>
                <button class="btn default">Создать задачу</button>
              </div>
              <div class="state">
                <span>Hover</span>
                <button class="btn hover">Создать задачу</button>
              </div>
              <div class="state">
                <span>Pressed</span>
                <button class="btn pressed">Создать задачу</button>
              </div>
              <div class="state">
                <span>Disabled</span>
                <button class="btn" disabled>Создать задачу</button>
              </div>
            </div>
          </div>
          <div class="panel">
            <h3>Высокая контрастность (A11y)</h3>
            <div class="button-states">
              <div class="state">
                <span>Default</span>
                <button class="btn a11y">Открыть расписание</button>
              </div>
              <div class="state">
                <span>Hover</span>
                <button class="btn a11y hover">Открыть расписание</button>
              </div>
              <div class="state">
                <span>Pressed</span>
                <button class="btn a11y pressed">Открыть расписание</button>
              </div>
              <div class="state">
                <span>Disabled</span>
                <button class="btn a11y" disabled>Открыть расписание</button>
              </div>
            </div>
          </div>
        </div>

        <div class="grid three-cols sim-grid">
          <div class="sim-card">
            <h4>Protanopia</h4>
            <div class="sim-preview protanopia">UX/UI дизайн · 90%</div>
          </div>
          <div class="sim-card">
            <h4>Deuteranopia</h4>
            <div class="sim-preview deuteranopia">Capstone project · 78%</div>
          </div>
          <div class="sim-card">
            <h4>Tritanopia</h4>
            <div class="sim-preview tritanopia">Напоминание · экзамен</div>
          </div>
        </div>

        <table class="audit-table compact">
          <thead>
            <tr>
              <th>Элемент</th>
              <th>До</th>
              <th>После</th>
              <th>Контраст</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Фон карточек</td>
              <td>#FDF6F0</td>
              <td>#FFFFFF</td>
              <td>11.0:1</td>
            </tr>
            <tr>
              <td>Подпись статистики</td>
              <td>#9AA5B8</td>
              <td>#6B7280</td>
              <td>4.8:1</td>
            </tr>
          </tbody>
        </table>
        <p class="source-note">Состояния кнопок протестированы через Contrast (Figma). Симуляции дальтонизма взяты из Color Blind 1.6 и показывают реальные карточки расписания. Таблица «До/После» основана на сравнении текущей темы и high-contrast режима.</p>
      </section>

      <!-- SECTION D: Theme Prototype -->
      <section id="prototype" class="audit-section fade-in">
        <h2>Секция D — Прототип переключения тем</h2>
        <div class="theme-lab">
          <label class="toggle">
            <input type="checkbox" id="themeToggle" />
            <span class="slider"></span>
            <span class="labels" data-light="Light" data-contrast="High Contrast"></span>
          </label>
          <div class="theme-demo" aria-live="polite">
            <h3>Студенческий портал · Сводка</h3>
            <p>Посещаемость за неделю стабильно выше 85%. Все критические задачи закрыты.</p>
            <div class="controls">
              <button class="demo-btn">Создать задачу</button>
              <button class="demo-btn ghost">Перейти к бэклогу</button>
              <button class="demo-btn" disabled>Готово</button>
            </div>
            <div class="inline-icon">
              <i data-feather="alert-triangle"></i>
              <span>Focus order пересмотрен с учётом клавиатурной навигации.</span>
            </div>
          </div>
        </div>
        <p class="source-note">Переключатель воспроизводит сценарий, собранный через Able (contrast presets) и A11y Focus Order: две темы соответствуют Light и High Contrast режимам Студенческого портала, протестированным на взаимодействие клавиатурой.</p>
      </section>
    </main>

    <footer class="page-footer">
      <p>Accessibility Audit — Студенческий портал, 2025</p>
      <div class="footer-links">
        <a href="https://www.w3.org/TR/WCAG21/" target="_blank" rel="noreferrer">WCAG 2.1 AA</a>
        <a href="https://www.figma.com/community/plugin/748533339900865323/Contrast" target="_blank">Contrast</a>
        <a href="https://www.figma.com/community/plugin/732603254453395948/Stark" target="_blank">Stark</a>
        <a href="https://www.figma.com/community/plugin/887264621207516673/Able" target="_blank">Able</a>
        <a href="https://www.figma.com/community/plugin/991148341568008720/A11y---Focus-Order" target="_blank">A11y Focus Order</a>
      </div>
    </footer>

    <script src="https://unpkg.com/feather-icons"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        feather.replace();
        const toggle = document.getElementById('themeToggle');
        const demo = document.querySelector('.theme-demo');
        toggle.addEventListener('change', () => {
          demo.classList.toggle('contrast', toggle.checked);
        });
      });
    </script>
  </body>
</html>
